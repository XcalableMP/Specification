\chapter{Directives}\index{directive}

This chapter describes the syntax and behavior of {\XMP} directives.
In this document, the following notation is used to describe {\XMP}
directives. 

\vspace{0.5cm}

\begin{tabular}{ll}
{\tt xxx} & {\tt type-face} characters are used to indicate literal type characters. \\
{\it xxx ...} & If the line is followed by ``...'', then xxx can be
repeated. \\
{\it [xxx]} & {\it xxx} is optional. \\
\verb![F]! & The following lines are effective only in {\Fort}. \\
\verb![C]! & The following lines are effective only in {\C}. \\
\end{tabular}

\vspace{0.5cm}

In {\Fort}, {\XMP} directives are specified using special comments that
are identified by unique sentinels {\tt\verb|!$xmp|}. The rules of
{\Fort} directives in fixed source format and free source format follow
those in {\OMP} and HPF.  In {\C}, {\XMP} directives are specified using
the \verb|#pragma| mechanism provided by the {\C} standards.

\vspace{0.5cm}

\Syntax{directive}
\begin{tabular}{ll}
\verb![F]! & \verb|!$xmp| {\it directive-name clause} \\
& \\
\verb![C]! & \verb|#pragma xmp| {\it directive-name clause} \\
\end{tabular}

\vspace{0.5cm}

Additionally, in {\Fort}, directives of the {\it attribute form}
analogous to type declaration statements in Fortran using the ``{\tt
::}'' punctuation can also be used.

Directives are classified as declarative directives and executable
directives. The declarative directive is a directive that may only be
placed in a declarative context. A declarative directive has no
associated executable user code. The scope rule of declarative
directives obeys that of the declaration statements in the base
language. For example, in C, node declarations by {\tt node} directives
are effective from the declaring point to the end of the function when
specified within a function, or of the file when specified outside any
functions, and, in {\Fort}, node declarations by {\tt node} directives
are effective within the subprogram.

The executable directives are placed in a executable context. A
stand-alone directive is an executable directive that has no associated
user code, such as a {\tt barrier} directive.
%
Some executable directive and its associated user code make up a
directive construct, as in the following format:

\vspace{0.5cm}

\begin{tabular}{ll}
\verb![F]! & \verb|!$xmp| {\it directive-name clause} ...\\
 & \hspace{0.5cm} {\it statement} \\
 & \hspace{0.5cm} ... \\
 & \verb|!$xmp| {\tt end} {\it directive-name} \\
\end{tabular}
\vspace{0.3cm}

Note that in the {\tt loop} construct, {\tt end} can be omitted.

\vspace{0.5cm}

\begin{tabular}{ll}
\verb![F]! & \verb|!$xmp| {\it directive-name clause} ...\\
 & \hspace{0.5cm} {\it do-loop-construct} \\
\end{tabular}

\vspace{0.5cm}

\begin{tabular}{ll}
\verb![C]! & \verb|#pragma xmp| {\it directive-name clause} ...\\
 & \hspace{0.5cm} {\it statement} \\
\end{tabular}

In C, the statement can be a compound-statement.

